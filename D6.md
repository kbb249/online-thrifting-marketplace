# D.6 Implementation 2
## Introduction



## Implemented Requirements

### 2.1: ***Zazel Turner***
#### GitHub Pull Requests Link: Pull requests: https://github.com/kbb249/online-thrifting-marketplace/issues?q=is%3Apr%20author%3A%40me

 
#### Pull Request Screenshot:  <br>
<img width="822" height="748" alt="image" src="https://github.com/user-attachments/assets/6ca6b13f-7470-4e7c-bea8-aefe0e4d22aa" />
 

**Requirement Description:** As a seller i want to be able to post new listing for other users see and purchase 

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/19

**Pull Request Link(s):**  https://github.com/kbb249/online-thrifting-marketplace/pull/132

**Author:** Alexa(front end/template backend)  and Zazel Turner (functional backend)

**Reviewer:** Henry Hoang

**Automated Testing:** online-thrifting-marketplace/cs386/Automated Testing/testAddItem at main · kbb249/online-thrifting-marketplace

**Visual Evidence:**

<img width="566" height="766" alt="image" src="https://github.com/user-attachments/assets/f514ba86-2090-4037-9482-3c36bf7a242d" />


**Requirement Description:** As a student user, I want to have a secure login page so that I can access my information and the website features

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/125

**Pull Request Link(s):**  https://github.com/kbb249/online-thrifting-marketplace/pull/115

**Author:** Henry Hoang (frontend) and Zazel Turner (backend)

**Reviewer:** Zazel Turner

**Automated Testing:** online-thrifting-marketplace/cs386/Automated Testing/testLogin.js at main · kbb249/online-thrifting-marketplace

**Visual Evidence:**

<img width="538" height="476" alt="image" src="https://github.com/user-attachments/assets/cf171ed4-9ded-4ff2-867a-05db2d239d62" />


**Requirement Description:** As a student user, I want to have a secure sign up page that allows me to create an account so that I can access the websites' features.

**Issue Link:**  https://github.com/kbb249/online-thrifting-marketplace/issues/126

**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/113

**Author:** Henry Hoang (frontend) and Zazel Turner (backend)

**Reviewer:**  Zazel Turner

**Automated Testing:**

**Visual Evidence:** 

<img width="612" height="628" alt="image" src="https://github.com/user-attachments/assets/a85d9396-0b7f-4eea-84aa-f83e2ea91a4e" />


**Requirement Description:** As a seller i want to be able to edit and delete my listings so i can make sure my postings are accurate 

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/136

**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/132

**Author:** Alexa(frontend/ backend help) Zazel (backend) 

**Reviewer:** Henry Hoang

**Automated Testing:** online-thrifting-marketplace/cs386/Automated Testing/testDelete.php at main · kbb249/online-thrifting-marketplace

online-thrifting-marketplace/cs386/Automated Testing/edit-item.test.js at main · kbb249/online-thrifting-marketplace

**Visual Evidence:**
<img width="728" height="382" alt="image" src="https://github.com/user-attachments/assets/672b0bc7-92d4-4ef2-87a3-0ac130853661" />


**Requirement Description:** As a developer i want to generate reports using the users activity so we can see users analytics 

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/25

**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/116

**Author:** Zazel Turner 

**Reviewer:**  Henry Hoang 

**Automated Testing:**

**Visual Evidence:**
<img width="1212" height="402" alt="image" src="https://github.com/user-attachments/assets/487ccf99-2bdf-4a7a-8ea2-60648e6f3dde" />




### 2.2: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**

### 2.3: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**
<br>

### 2.4: ***Alexa Aguilar***
#### GitHub Pull Requests Link: <br>
https://github.com/kbb249/online-thrifting-marketplace/pulls?q=is%3Apr+author%3Aalexaaguilar10+
#### Pull Request Screenshot: <br>

**Requirement Description:** As a seller I want to be able to post new listing for other users see and purchase. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/19 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/132 <br>
**Author:** Alexa (front end/backend) and Zazel (backend) <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/catalog.test.js<br>
**Visual Evidence:** <br>
<img width="357" height="486" alt="Image" src="https://github.com/user-attachments/assets/c131744d-8d09-4d2e-af5a-991849d450aa" /> <br>
<br>

**Requirement Description:** As a seller I want to be able to edit and delete my listings so I can make sure my postings are accurate. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/136 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/132 <br>
**Author:** Alexa (front end/backend) and Zazel (backend) <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/edit-item.test.js<br>
**Visual Evidence:** <br>
<img width="813" height="430" alt="Image" src="https://github.com/user-attachments/assets/32cd4566-5f3f-456a-8c18-055372e5fca7" />
<br>

**Requirement Description:** As buyer I want to be able to add an item to the shopping cart and see my total. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/140 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/145<br>
**Author:** Alexa <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/pull/147<br>
**Visual Evidence:** <br>
<img width="431" height="392" alt="Screenshot 2025-11-21 at 2 05 08 PM" src="https://github.com/user-attachments/assets/7834dacd-144f-4cd2-b466-b07232c3fe59" />
<br>
<img width="1382" height="368" alt="Screenshot 2025-11-21 at 2 05 40 PM" src="https://github.com/user-attachments/assets/67cab65a-7e43-42aa-b7da-e21a0817cbd8"/>
<br>




### 2.5: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**

### 2.6: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**



## Automated Testing
### Unit Tests:
Test Framework: Jest <br>
GitHub Folder Link: https://github.com/kbb249/online-thrifting-marketplace/tree/main/cs386/Automated%20Testing <br>
Example of a Unit Test: 
- File Being Tested Link: https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/public/catalog.js<br>
- Test File: https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/catalog.test.js <br> 
- Brief Explanation: These tests check that the loadCatalog() function behaves correctly when it tries to fetch item data from the server. They make sure the function returns the real data when the fetch works and returns an empty array when the fetch fails, instead of crashing. To do this, the tests mock (fake) the fetch function, so no real network request is made, and they also mock console.error so the error messages don’t appear in the test output. <br>
- Code Snippet Screenshot: <br>
<img width="460" height="450" alt="Image" src="https://github.com/user-attachments/assets/6dbf2363-2daa-4305-9b89-bd78683b953c" /> <br>
- Test Results Screenshot:<br>
<img width="561" height="410" alt="Image" src="https://github.com/user-attachments/assets/a7a6e73c-24be-4b63-8a30-55c79278468a" /> <br>



### Integration Tests:

### Acceptance Tests:


## System Demonstration


## AI-Assisted Code Quality Review
**Zazel Turner:**

**AI Interaction:**

1. **Tool:** chat GPT

2. **Prompt**

- Give me specific feedback on what I should change about this code to make it better. 
- Analyze the provided source code and generate a comprehensive report focused security and how to improve in this aspect

3. **No conversation link**

**Detailed analysis and response:**

**AI Feedback:**
1. Monolithic structure-> I'm using the database connection in every single file. It expressed this would cause it to be hard to reuse the logic and scale. 
2. Security risks! -> the js only restricts who sees the edit and delete anyone can open the DevTools and submit a deleteitem. Adding a CSRF token will add a layer of security. 

**Assigned Reviewer:** Zazel Turner 

**Severity assessment:** Overall Severity: MEDIUM-HIGH/

- Authentication Risk — LOW
- Client-Side Access Control — MEDIUM
- CSRF Vulnerability — HIGH

**Decision:** implement changes a and b to the system. 

**Explanation:**

Changes made:
  
1. I did agree with the assessment that the structure is monolithic and will not be reusable. In doing research i found that using a /config.php file is a common way to have the database connection. So   i did create a file that had the connection and then included it at the top of each of my php files. 

New configuration file:
<img width="716" height="398" alt="image" src="https://github.com/user-attachments/assets/95f4e3bd-948e-418f-bf36-4f3e79c9cd93" />

This previously was in each of my php files. Now i have one for user activity, user information, messaging information, and item information connections. This makes the maintainability and reusability much better. 

2. This is the part of the system that got a high severity risk. So i did go back and add the CSRF token to the edit and delete actions so that it is required to make those changes. Here are a couple of the lines I added to the php, and html to create the token.
   
<img width="852" height="652" alt="image" src="https://github.com/user-attachments/assets/095a824a-e8e5-4853-b597-cce4087ee2fe" />
 

**Reflection:** I think that the AI assessment helped me improve the security of this system in a way that really mattered. I did not know that someone could go into the devTools and do a fraudulent action like delete or edit items with how we had it structured. Not only did it help with the security in this way it also helped make this code much more reusable. Because i am more of a beginner on backend handling i think this provided great insight and recommendations on how to create the config file and improve the system

## Retrospective Analysis
