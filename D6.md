# D.6 Implementation 2
## Introduction



## Implemented Requirements

### 2.1: ***Zazel Turner***
#### GitHub Pull Requests Link: Pull requests: https://github.com/kbb249/online-thrifting-marketplace/issues?q=is%3Apr%20author%3A%40me

 
#### Pull Request Screenshot:  <br>
<img width="822" height="748" alt="image" src="https://github.com/user-attachments/assets/6ca6b13f-7470-4e7c-bea8-aefe0e4d22aa" />
 

**Requirement Description:** As a seller i want to be able to post new listing for other users see and purchase 

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/19

**Pull Request Link(s):**  https://github.com/kbb249/online-thrifting-marketplace/pull/132

**Author:** Alexa(front end/template backend)  and Zazel Turner (functional backend)

**Reviewer:** Henry Hoang

**Automated Testing:** online-thrifting-marketplace/cs386/Automated Testing/testAddItem at main · kbb249/online-thrifting-marketplace

**Visual Evidence:**

<img width="566" height="766" alt="image" src="https://github.com/user-attachments/assets/f514ba86-2090-4037-9482-3c36bf7a242d" />


**Requirement Description:** As a student user, I want to have a secure login page so that I can access my information and the website features

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/125

**Pull Request Link(s):**  https://github.com/kbb249/online-thrifting-marketplace/pull/115

**Author:** Henry Hoang (frontend) and Zazel Turner (backend)

**Reviewer:** Zazel Turner

**Automated Testing:** online-thrifting-marketplace/cs386/Automated Testing/testLogin.js at main · kbb249/online-thrifting-marketplace

**Visual Evidence:**

<img width="538" height="476" alt="image" src="https://github.com/user-attachments/assets/cf171ed4-9ded-4ff2-867a-05db2d239d62" />


**Requirement Description:** As a student user, I want to have a secure sign up page that allows me to create an account so that I can access the websites' features.

**Issue Link:**  https://github.com/kbb249/online-thrifting-marketplace/issues/126

**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/113

**Author:** Henry Hoang (frontend) and Zazel Turner (backend)

**Reviewer:**  Zazel Turner

**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/test_signup.py

**Visual Evidence:** 

<img width="612" height="628" alt="image" src="https://github.com/user-attachments/assets/a85d9396-0b7f-4eea-84aa-f83e2ea91a4e" />


**Requirement Description:** As a seller i want to be able to edit and delete my listings so i can make sure my postings are accurate 

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/136

**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/132

**Author:** Alexa(frontend/ backend help) Zazel (backend) 

**Reviewer:** Henry Hoang

**Automated Testing:** online-thrifting-marketplace/cs386/Automated Testing/testDelete.php at main · kbb249/online-thrifting-marketplace

online-thrifting-marketplace/cs386/Automated Testing/edit-item.test.js at main · kbb249/online-thrifting-marketplace

**Visual Evidence:**

<img width="728" height="382" alt="image" src="https://github.com/user-attachments/assets/672b0bc7-92d4-4ef2-87a3-0ac130853661" />


**Requirement Description:** As a developer i want to generate reports using the users activity so we can see users analytics 

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/25

**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/116

**Author:** Zazel Turner 

**Reviewer:**  Henry Hoang 

**Automated Testing:**

**Visual Evidence:**

<img width="1212" height="402" alt="image" src="https://github.com/user-attachments/assets/487ccf99-2bdf-4a7a-8ea2-60648e6f3dde" />




### 2.2: ***Henry Hoang***
#### GitHub Pull Requests Link: https://github.com/kbb249/online-thrifting-marketplace/pulls/h3nryyyyyyy <br>
#### Pull Request Screenshot: 
<img width="450" height="550" alt="Screenshot 2025-11-21 012432" src="https://github.com/user-attachments/assets/064df8e0-f25e-494f-aeda-c019a6fa2e74" />
<img width="450" height="550" alt="Screenshot 2025-11-21 012351" src="https://github.com/user-attachments/assets/83f9392a-1407-4456-8c26-00143aadb059" />

<br>


**Requirement Description:** As a student user, I want to have a secure login page so that I can access my information and the website features

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/125

**Pull Request Link(s):  https://github.com/kbb249/online-thrifting-marketplace/pull/115 

**Author:** Henry Hoang 

**Reviewer:** Zazel Turner 

**Automated Testing:**  online-thrifting-marketplace/cs386/Automated Testing/testLogin.js at main · kbb249/online-thrifting-marketplace


**Visual Evidence:**

<img width="400" height="500" alt="Screenshot 2025-11-17 205941" src="https://github.com/user-attachments/assets/e978bb2d-f88c-4876-bddb-5f29fbf3ac06" />

**Requirement Description:** As a student user, I want to have a secure sign up page that allows me to create an account so that I can access the websites' features.

**Issue Link:**  https://github.com/kbb249/online-thrifting-marketplace/issues/126

**Pull Request Link(s):** 
https://github.com/kbb249/online-thrifting-marketplace/pull/113
https://github.com/kbb249/online-thrifting-marketplace/pull/112
https://github.com/kbb249/online-thrifting-marketplace/pull/79

**Author:** Henry Hoang

**Reviewer:** Zazel Turner

**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/test_signup.py

**Visual Evidence:**

<img width="451" height="525" alt="Screenshot 2025-11-17 210252" src="https://github.com/user-attachments/assets/92a7d4ed-1d8e-4e87-9c93-7b92e29bcfa7" />

**Requirement Description:** As a student user, I want to be able to see all of my listed items so that I can view and access all of my listings in one place.

**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/127

**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/168 

**Author:** Henry Hoang 

**Reviewer:** Zazel Turner

**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/pull/169

**Visual Evidence:** <img width="500" height="511" alt="Screenshot 2025-11-23 191335" src="https://github.com/user-attachments/assets/fff47165-d7aa-42d4-9b42-9fc1570a9f3f" />


<br>

### 2.3: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**
<br>

### 2.4: ***Alexa Aguilar***
#### GitHub Pull Requests Link: <br>
https://github.com/kbb249/online-thrifting-marketplace/pulls?q=is%3Apr+author%3Aalexaaguilar10+
#### Pull Request Screenshot: <br>
<img width="921" height="703" alt="Screenshot 2025-11-23 at 2 07 31 PM" src="https://github.com/user-attachments/assets/25d6328a-7cbd-44da-b15f-79810cff7137" /> <br>
<img width="950" height="479" alt="Screenshot 2025-11-23 at 2 08 05 PM" src="https://github.com/user-attachments/assets/973cf221-9473-4099-82d6-0a045129c4c9" /> <br>


**Requirement Description:** As a seller I want to be able to post new listing for other users see and purchase. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/19 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/132 <br>
**Author:** Alexa (front end/backend) and Zazel (backend) <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/catalog.test.js<br>
**Visual Evidence:** <br>
<img width="357" height="486" alt="Image" src="https://github.com/user-attachments/assets/c131744d-8d09-4d2e-af5a-991849d450aa" /> <br>
<br>

**Requirement Description:** As a seller I want to be able to edit and delete my listings so I can make sure my postings are accurate. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/136 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/132 <br>
**Author:** Alexa (front end/backend) and Zazel (backend) <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/edit-item.test.js<br>
**Visual Evidence:** <br>
<img width="813" height="430" alt="Image" src="https://github.com/user-attachments/assets/32cd4566-5f3f-456a-8c18-055372e5fca7" />
<br>

**Requirement Description:** As buyer I want to be able to add an item to the shopping cart and see my total. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/140 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/145<br>
**Author:** Alexa <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/pull/147<br>
**Visual Evidence:** <br>
<img width="431" height="392" alt="Screenshot 2025-11-21 at 2 05 08 PM" src="https://github.com/user-attachments/assets/7834dacd-144f-4cd2-b466-b07232c3fe59" />
<br>
<img width="1382" height="368" alt="Screenshot 2025-11-21 at 2 05 40 PM" src="https://github.com/user-attachments/assets/67cab65a-7e43-42aa-b7da-e21a0817cbd8"/>
<br>




### 2.5: ***Kaylee Cromwell***
#### GitHub Pull Requests Link: <br>
https://github.com/kbb249/online-thrifting-marketplace/pulls/kayleeCromwell
#### Pull Request Screenshot: <br>
<img width="499" height="195" alt="Screenshot 2025-11-21 at 5 01 01 PM" src="https://github.com/user-attachments/assets/1fc40d0f-d596-4a7f-9349-e19df28cf7ad" />
<img width="650" height="574" alt="Screenshot 2025-11-21 at 5 00 55 PM" src="https://github.com/user-attachments/assets/0f412f16-0a21-43bf-ba9d-8f81b3a710bc" />

**Requirement Description:** <br>
As a website user I want to be able to be able to link to other parts of the website from the menu dropdown<br>
**Issue Link:** <br>
https://github.com/kbb249/online-thrifting-marketplace/issues/3 <br>

**Pull Request Link(s):** <br>
https://github.com/kbb249/online-thrifting-marketplace/pull/149 <br>
**Author:**<br> Kaylee Cromwell<br>
**Reviewer:** <br>Henry Hoang<br>
**Automated Testing:**<br>
**Visual Evidence:**<br>
<img width="339" height="240" alt="Screenshot 2025-11-23 at 4 05 24 PM" src="https://github.com/user-attachments/assets/aba04ba5-f6ce-4b1d-b554-2ab3c1ceb88e" /> <br>

### 2.6: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**



## Automated Testing
### Unit Tests:
Test Framework: Jest <br>
GitHub Folder Link: https://github.com/kbb249/online-thrifting-marketplace/tree/main/cs386/Automated%20Testing <br>
Example of a Unit Test: 
- File Being Tested Link: https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/public/catalog.js<br>
- Test File: https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/catalog.test.js <br> 
- Brief Explanation: These tests check that the loadCatalog() function behaves correctly when it tries to fetch item data from the server. They make sure the function returns the real data when the fetch works and returns an empty array when the fetch fails, instead of crashing. To do this, the tests mock (fake) the fetch function, so no real network request is made, and they also mock console.error so the error messages don’t appear in the test output. <br>
- Code Snippet Screenshot: <br>
<img width="460" height="450" alt="Image" src="https://github.com/user-attachments/assets/6dbf2363-2daa-4305-9b89-bd78683b953c" /> <br>
- Test Results Screenshot:<br>
<img width="561" height="410" alt="Image" src="https://github.com/user-attachments/assets/a7a6e73c-24be-4b63-8a30-55c79278468a" /> <br>



### Integration Tests:

### Acceptance Tests:<br>
Framework - Cypress <br>
Github folder link:<br> https://github.com/kbb249/online-thrifting-marketplace/tree/main/cs386/Automated%20Testing <br>
Test file:
<br>
Explanation:<br> The code tests from a users perspective as the website is started. The test creates an account then logins to the main catalog page. Once it reaches the main catalog page it then goes through the process of adding an item for sale and back to the main catalog page. <br>
Code Snippet: <br>
<img width="657" height="577" alt="Screenshot 2025-11-23 at 3 19 54 PM" src="https://github.com/user-attachments/assets/59a0355f-0200-41e2-80e0-05135b8f9f91" />
<br>
Component Links:
<br>
https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/addItem.php <br>
https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/views/linku-add-item.html <br>
https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/views/linku-catalog.html <br>
https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/views/linku-login.html <br>
https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/views/linku-signup.html <br>
<br>
Execution<br>
<img width="704" height="395" alt="Screenshot 2025-11-23 at 3 19 32 PM" src="https://github.com/user-attachments/assets/a8e29f7d-07b8-42c8-8c0a-220588d7ff6a" />
<br>

## System Demonstration

https://drive.google.com/file/d/19pT6KlTQmGIrYmLoB0ghQZnyyKTx3F3o/view?usp=sharing



## AI-Assisted Code Quality Review
### Alexa Aguilar
<ul>
  <li>AI Interaction:
  <ul>
      <li>Assigned Reviewer: Alexa Aguilar</li>
      <li>Severity Assessment: [High]</li>
      <li>Decision: [Approved]</li>
      <li>Explanation:</li>
    </ul>

  </li>
    <ul>
        <li>Tool Used: ChatGPT</li>
        <li>Prompt: Analyze the codebase responsible for adding new catalog items, editing and deleting listings, and handling the add-to-cart functionality. Using only the source code itself (ignoring comments), produce a thorough maintainability assessment. Your analysis should cover architecture, design, and code quality. For each category, identify specific issues, explain why they reduce maintainability, and support your points with concrete evidence such as file paths, function or variable names, and short code snippets. Provide clear, code-level recommendations for improvement without suggesting external tools or frameworks. Include a brief overall summary, a prioritized checklist of the most important fixes, and one example showing how a problematic function or module could be refactored. Do not ask follow-up questions; base your entire report solely on the code provided.
        </li>
        <li>Conversation Link: https://chatgpt.com/share/691e6cc8-6ea8-8013-ab19-f3457e06e8db</li>        
    </ul>
  <li>Detailed Analysis and Response:
    <ul>
      <li>AI Feedback:</li>
      <li> <span style="color:orange">Design Issue: Heavy innerHTML With Unescaped User Data: --</span>. 
  Your catalog and card-rendering logic rely on inserting user-supplied fields (item name, description, price, category, image path) directly into innerHTML strings. Because innerHTML interprets the content as HTML, this creates a major XSS vulnerability and makes the UI fragile. If an item contains characters like <, ", or embedded tags, the browser will parse them as actual HTML instead of text. This also harms maintainability because large template strings mix data, markup, and logic in the same place. Editing the layout requires sifting through complex string interpolation, and it’s easy to break the HTML structure accidentally. With multiple developers or future revisions, the risk of unintended markup changes is high.
  </li>
      <li><span style="color:orange"> Architecture Issue: Duplicated Cart Logic --</span>.
  Functions that manage cart state — saving changes, adjusting quantities, merging items — appear in multiple files, including both catalog and cart scripts. Because they aren’t centralized in a single module, the same logic is repeated and maintained in parallel. This duplication makes the system brittle. If one copy is updated (e.g., to change how items are stored or how quantities are calculated) but the other copy is not, cart behavior becomes inconsistent depending on which page the user was on. Over time, the duplicated logic is likely to diverge, turning small changes into system-wide bugs.</li>
      <li>Assigned Reviewer: Alexa Aguilar</li>
      <li>Severity Assessment: [High]</li>
      <li>Decision: [Approved]</li>
      <li>Explanation: We improved the project by creating one shared cart file called cart-module.js, which holds all the functions for adding, removing, and updating items in the cart. Before this, each page had its own copy of the cart code, which made things confusing and hard to fix. Now everything uses the same set of cart functions. We also cleaned up how the cart page is built by using real elements (like images, buttons, and text nodes) instead of large innerHTML strings. This makes the page safer, easier to update, and easier to understand. Overall, the code is now more organized, less repetitive, and much easier to maintain.</li>
      <li>Code Example - Fixing Heavy innerHTML: <img width="662" height="342" alt="Screenshot 2025-11-21 at 3 03 25 PM" src="https://github.com/user-attachments/assets/4c505282-5da4-479a-93d2-6c20a9e7567b" /></li>
      <li>Code Example - Duplicated Cart Logic:<img width="559" height="641" alt="Screenshot 2025-11-21 at 3 05 10 PM" src="https://github.com/user-attachments/assets/3622526d-6c20-4186-9817-91b0b54774a6" /></li>
    </ul>
  </li>
</ul>


**Zazel Turner:**

**AI Interaction:**

1. **Tool:** chat GPT

2. **Prompt**

- Give me specific feedback on what I should change about this code to make it better. 
- Analyze the provided source code and generate a comprehensive report focused security and how to improve in this aspect

3. **No conversation link**

**Detailed analysis and response:**

**AI Feedback:**
1. Monolithic structure-> I'm using the database connection in every single file. It expressed this would cause it to be hard to reuse the logic and scale. 
2. Security risks! -> the js only restricts who sees the edit and delete anyone can open the DevTools and submit a deleteitem. Adding a CSRF token will add a layer of security. 

**Assigned Reviewer:** Zazel Turner 

**Severity assessment:** Overall Severity: MEDIUM-HIGH/

- Authentication Risk — LOW
- Client-Side Access Control — MEDIUM
- CSRF Vulnerability — HIGH

**Decision:** implement changes a and b to the system. 

**Explanation:**

Changes made:
  
1. I did agree with the assessment that the structure is monolithic and will not be reusable. In doing research i found that using a /config.php file is a common way to have the database connection. So   i did create a file that had the connection and then included it at the top of each of my php files. 

New configuration file:

<img width="716" height="398" alt="image" src="https://github.com/user-attachments/assets/95f4e3bd-948e-418f-bf36-4f3e79c9cd93" />

This previously was in each of my php files. Now i have one for user activity, user information, messaging information, and item information connections. This makes the maintainability and reusability much better. 

2. This is the part of the system that got a high severity risk. So i did go back and add the CSRF token to the edit and delete actions so that it is required to make those changes. Here are a couple of the lines I added to the php, and html to create the token.
   
<img width="852" height="652" alt="image" src="https://github.com/user-attachments/assets/095a824a-e8e5-4853-b597-cce4087ee2fe" />
 

**Reflection:** I think that the AI assessment helped me improve the security of this system in a way that really mattered. I did not know that someone could go into the devTools and do a fraudulent action like delete or edit items with how we had it structured. Not only did it help with the security in this way it also helped make this code much more reusable. Because i am more of a beginner on backend handling i think this provided great insight and recommendations on how to create the config file and improve the system
<br>
**Kaylee Cromwell**<br>
**AI Interaction**<br>
1. **Tool:** chat GPT<br>
2. **Prompt** How can I make this code better?<br>
3. **No conversation link**
**Detailed analysis and response:**<br>
**AI Feedback**<br>
1. Fix the Layout Structure (Your #1 issue)
2. Add Bootstrap Form Styles for Clean Input Fields
3.Add Real Card Icons (Visa, Mastercard, AmEx)
4.Add Input Validation (expiry, card number, CVV)
5.Use Cards Instead of Raw Borders
6.Improve Delivery Selection
7.Make the Order Summary Sticky
8.Style “Place Order” as a Real Call-to-Action
9.Separate Sections with Sub-headers
10.Improve Spacing and Card Shadows
<br>
**Assigned Reviewer:** Kaylee Cromwell<br>
**Severity assessment:** medium<br>
**Decision:** [Approved]<br>
**Explanation** By taking the suggestions made by the code and implementing it for the benefits visually and the functionality of the suggestions it will make for a smoother transaction for the buyers.<br>

**AI Interaction**
1. **Tool:** chat GPT<br>
2. **Prompt** How can I make this code better?<br>
3. **No conversation link**
**Detailed Analysis and Response.** 
1.  	AI Feedback: 
 1. Better structure
Added semantic <section> tags
Grouped content logically
Improved accessibility and responsiveness
2. Professional Hero Section
Large centered logo
Overlay text
Optional opacity for mood
3. Clean Bootstrap components
List-group for Team list
Navbar that collapses on mobile
Footer organized into a grid
4. Fully responsive layout
Everything scales correctly from mobile → desktop
**Assigned Reviewer:** Kaylee Cromwell<br>
**Severity Assessment:** low<br>
**Decision:** [Approved]<br>
**Explanation**  Yes by taking the suggestions and making it easier to read and the style aspects of the page.
<br>
**Individual Reflection:** done


## Retrospective Analysis
