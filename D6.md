# D.6 Implementation 2
## Introduction



## Implemented Requirements

### 2.1: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**


### 2.2: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**

### 2.3: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**
<br>

### 2.4: ***Alexa Aguilar***
#### GitHub Pull Requests Link: <br>
https://github.com/kbb249/online-thrifting-marketplace/pulls?q=is%3Apr+author%3Aalexaaguilar10+
#### Pull Request Screenshot: <br>

**Requirement Description:** As a seller I want to be able to post new listing for other users see and purchase. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/19 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/132 <br>
**Author:** Alexa (front end/backend) and Zazel (backend) <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/catalog.test.js<br>
**Visual Evidence:** <br>
<img width="357" height="486" alt="Image" src="https://github.com/user-attachments/assets/c131744d-8d09-4d2e-af5a-991849d450aa" /> <br>
<br>

**Requirement Description:** As a seller I want to be able to edit and delete my listings so I can make sure my postings are accurate. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/136 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/132 <br>
**Author:** Alexa (front end/backend) and Zazel (backend) <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/edit-item.test.js<br>
**Visual Evidence:** <br>
<img width="813" height="430" alt="Image" src="https://github.com/user-attachments/assets/32cd4566-5f3f-456a-8c18-055372e5fca7" />
<br>

**Requirement Description:** As buyer I want to be able to add an item to the shopping cart and see my total. <br>
**Issue Link:** https://github.com/kbb249/online-thrifting-marketplace/issues/140 <br>
**Pull Request Link(s):** https://github.com/kbb249/online-thrifting-marketplace/pull/145<br>
**Author:** Alexa <br>
**Reviewer:**  Henry Hoang <br>
**Automated Testing:** https://github.com/kbb249/online-thrifting-marketplace/pull/147<br>
**Visual Evidence:** <br>
<img width="431" height="392" alt="Screenshot 2025-11-21 at 2 05 08 PM" src="https://github.com/user-attachments/assets/7834dacd-144f-4cd2-b466-b07232c3fe59" />
<br>
<img width="1382" height="368" alt="Screenshot 2025-11-21 at 2 05 40 PM" src="https://github.com/user-attachments/assets/67cab65a-7e43-42aa-b7da-e21a0817cbd8"/>
<br>




### 2.5: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**

### 2.6: ***Name***
#### GitHub Pull Requests Link: <br>
#### Pull Request Screenshot: <br>

**Requirement Description:**
**Issue Link:**
**Pull Request Link(s):** 
**Author:** 
**Reviewer:** 
**Automated Testing:**
**Visual Evidence:**



## Automated Testing
### Unit Tests:
Test Framework: Jest <br>
GitHub Folder Link: https://github.com/kbb249/online-thrifting-marketplace/tree/main/cs386/Automated%20Testing <br>
Example of a Unit Test: 
- File Being Tested Link: https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/public/catalog.js<br>
- Test File: https://github.com/kbb249/online-thrifting-marketplace/blob/main/cs386/Automated%20Testing/catalog.test.js <br> 
- Brief Explanation: These tests check that the loadCatalog() function behaves correctly when it tries to fetch item data from the server. They make sure the function returns the real data when the fetch works and returns an empty array when the fetch fails, instead of crashing. To do this, the tests mock (fake) the fetch function, so no real network request is made, and they also mock console.error so the error messages don’t appear in the test output. <br>
- Code Snippet Screenshot: <br>
<img width="460" height="450" alt="Image" src="https://github.com/user-attachments/assets/6dbf2363-2daa-4305-9b89-bd78683b953c" /> <br>
- Test Results Screenshot:<br>
<img width="561" height="410" alt="Image" src="https://github.com/user-attachments/assets/a7a6e73c-24be-4b63-8a30-55c79278468a" /> <br>



### Integration Tests:

### Acceptance Tests:


## System Demonstration


## AI-Assisted Code Quality Review
### Alexa Aguilar
<ul>
  <li>AI Interaction:
  <ul>
      <li>Assigned Reviewer: Alexa Aguilar</li>
      <li>Severity Assessment: [High]</li>
      <li>Decision: [Approved]</li>
      <li>Explanation:</li>
    </ul>

  </li>
    <ul>
        <li>Tool Used: ChatGPT</li>
        <li>Prompt: Analyze the codebase responsible for adding new catalog items, editing and deleting listings, and handling the add-to-cart functionality. Using only the source code itself (ignoring comments), produce a thorough maintainability assessment. Your analysis should cover architecture, design, and code quality. For each category, identify specific issues, explain why they reduce maintainability, and support your points with concrete evidence such as file paths, function or variable names, and short code snippets. Provide clear, code-level recommendations for improvement without suggesting external tools or frameworks. Include a brief overall summary, a prioritized checklist of the most important fixes, and one example showing how a problematic function or module could be refactored. Do not ask follow-up questions; base your entire report solely on the code provided.
        </li>
        <li>Conversation Link: https://chatgpt.com/share/691e6cc8-6ea8-8013-ab19-f3457e06e8db</li>        
    </ul>
  <li>Detailed Analysis and Response:
    <ul>
      <li>AI Feedback:</li>
      <li> <span style="color:orange">Design Issue: Heavy innerHTML With Unescaped User Data: --</span>. 
  Your catalog and card-rendering logic rely on inserting user-supplied fields (item name, description, price, category, image path) directly into innerHTML strings. Because innerHTML interprets the content as HTML, this creates a major XSS vulnerability and makes the UI fragile. If an item contains characters like <, ", or embedded tags, the browser will parse them as actual HTML instead of text. This also harms maintainability because large template strings mix data, markup, and logic in the same place. Editing the layout requires sifting through complex string interpolation, and it’s easy to break the HTML structure accidentally. With multiple developers or future revisions, the risk of unintended markup changes is high.
  </li>
      <li><span style="color:orange"> Architecture Issue: Duplicated Cart Logic --</span>.
  Functions that manage cart state — saving changes, adjusting quantities, merging items — appear in multiple files, including both catalog and cart scripts. Because they aren’t centralized in a single module, the same logic is repeated and maintained in parallel. This duplication makes the system brittle. If one copy is updated (e.g., to change how items are stored or how quantities are calculated) but the other copy is not, cart behavior becomes inconsistent depending on which page the user was on. Over time, the duplicated logic is likely to diverge, turning small changes into system-wide bugs.</li>
      <li>Assigned Reviewer: Alexa Aguilar</li>
      <li>Severity Assessment: [High]</li>
      <li>Decision: [Approved]</li>
      <li>Explanation: We improved the project by creating one shared cart file called cart-module.js, which holds all the functions for adding, removing, and updating items in the cart. Before this, each page had its own copy of the cart code, which made things confusing and hard to fix. Now everything uses the same set of cart functions. We also cleaned up how the cart page is built by using real elements (like images, buttons, and text nodes) instead of large innerHTML strings. This makes the page safer, easier to update, and easier to understand. Overall, the code is now more organized, less repetitive, and much easier to maintain.</li>
      <li>Code Example - Fixing Heavy innerHTML: <img width="662" height="342" alt="Screenshot 2025-11-21 at 3 03 25 PM" src="https://github.com/user-attachments/assets/4c505282-5da4-479a-93d2-6c20a9e7567b" /></li>
      <li>Code Example - Duplicated Cart Logic:<img width="559" height="641" alt="Screenshot 2025-11-21 at 3 05 10 PM" src="https://github.com/user-attachments/assets/3622526d-6c20-4186-9817-91b0b54774a6" /></li>
    </ul>
  </li>
</ul>



## Retrospective Analysis
